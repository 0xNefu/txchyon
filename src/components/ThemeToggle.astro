<button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
  <span class="light-icon">🌞</span>
  <span class="dark-icon">🌙</span>
</button>

<style>
.theme-toggle {
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 1.25rem;
  padding: 0.5rem;
  border-radius: 50%;
  transition: background-color 0.2s;
}

.theme-toggle:hover {
  background-color: rgba(0,0,0,0.05);
}

.dark .theme-toggle:hover {
  background-color: rgba(255,255,255,0.1);
}

.dark-icon {
  display: none;
}

.light-icon {
  display: inline-block;
}

.dark .dark-icon {
  display: inline-block;
}

.dark .light-icon {
  display: none;
}
</style>

<script>
// Initialize theme from localStorage or system preference
const savedTheme = localStorage.getItem('theme');
const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
const initialTheme = savedTheme || (systemPrefersDark ? 'dark' : 'light');

// Apply initial theme
if (initialTheme === 'dark') {
  document.documentElement.classList.add('dark');
} else {
  document.documentElement.classList.remove('dark');
}

// Toggle functionality
document.getElementById('theme-toggle').addEventListener('click', () => {
  const isDark = document.documentElement.classList.contains('dark');
  const newTheme = isDark ? 'light' : 'dark';
  
  document.documentElement.classList.toggle('dark');
  localStorage.setItem('theme', newTheme);
});
</script>
